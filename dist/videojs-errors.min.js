/**
 * videojs-errors
 * @version 2.0.0
 * @copyright 2017 Brightcove, Inc.
 * @license Apache-2.0
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],r):e.videojsErrors=r(e.videojs)}(this,function(e){"use strict";e="default"in e?e.default:e;var r,o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};r="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{};var n,i=r,t={},s=(Object.freeze||Object)({default:t}),d=s&&t||s,a=void 0!==o?o:"undefined"!=typeof window?window:{};"undefined"!=typeof document?n=document:(n=a["__GLOBAL_DOCUMENT_CACHE@4"])||(n=a["__GLOBAL_DOCUMENT_CACHE@4"]=d);var l=n,c=e.getComponent("Flash"),u=!e.browser.IS_IPHONE,f=e.registerPlugin||e.plugin,p={header:"",code:"",message:"",timeout:45e3,dismiss:u,progressDisabled:!1,errors:{1:{type:"MEDIA_ERR_ABORTED",headline:"The video download was cancelled"},2:{type:"MEDIA_ERR_NETWORK",headline:"The video connection was lost, please confirm you are connected to the internet"},3:{type:"MEDIA_ERR_DECODE",headline:"The video is bad or in a format that cannot be played on your browser"},4:{type:"MEDIA_ERR_SRC_NOT_SUPPORTED",headline:"This video is either unavailable or not supported in this browser"},5:{type:"MEDIA_ERR_ENCRYPTED",headline:"The video you are trying to watch is encrypted and we do not know how to decrypt it"},unknown:{type:"MEDIA_ERR_UNKNOWN",headline:"An unanticipated problem was encountered, check back soon and try again"},"-1":{type:"PLAYER_ERR_NO_SRC",headline:"No video has been loaded"},"-2":{type:"PLAYER_ERR_TIMEOUT",headline:"Could not download the video"},PLAYER_ERR_DOMAIN_RESTRICTED:{headline:"This video is restricted from playing on your current domain"},PLAYER_ERR_IP_RESTRICTED:{headline:"This video is restricted at your current IP address"},PLAYER_ERR_GEO_RESTRICTED:{headline:"This video is restricted from playing in your current geographic region"}}},h=function r(o,n){var t=void 0,s=[],d=function(r){n.errors=e.mergeOptions(n.errors,r),Object.keys(n.errors).forEach(function(e){var r=n.errors[e];r.type||(r.type=e)})};d();var a=function(){i.clearTimeout(t),t=i.setTimeout(function(){o.error()||o.paused()||o.ended()||o.error({code:-2,type:"PLAYER_ERR_TIMEOUT"})},n.timeout),o.error()&&-2===o.error().code&&o.error(null)},u=function(){for(var e=void 0;s.length;)e=s.shift(),o.off(e[0],e[1]);i.clearTimeout(t)},f=function(e,r){var n=function(){if(!o.error()){var e=o.$(".vjs-tech");if(e&&"application/x-shockwave-flash"===e.type&&!e.vjs_getProperty)return void o.error({code:-2,type:"PLAYER_ERR_TIMEOUT"});if(o.paused())return a();if(o.ended())return a()}r.call(this)};o.on(e,n),s.push([e,n])},h=function(){var e=0;u(),a(),f(["timeupdate","adtimeupdate"],function(){var r=o.currentTime();r!==e&&(e=r,a())}),n.progressDisabled||f("progress",a)},v=function(){o.currentSrc()||o.error({code:-1,type:"PLAYER_ERR_NO_SRC"})},E=function(){var r="",i=o.error(),t=l.createElement("div"),s="";if(i){if(i=e.mergeOptions(i,n.errors[i.code||0]),i.message&&(r='<div class="vjs-errors-details">'+o.localize("Technical details")+'\n        : <div class="vjs-errors-message">'+o.localize(i.message)+"</div>\n        </div>"),4===i.code&&c&&!c.isSupported()){r+='<span class="vjs-errors-flashmessage">'+o.localize("If you are using an older browser please try upgrading or installing Flash.")+"</span>"}var d=o.getChild("errorDisplay");t.className="vjs-errors-dialog",t.id="vjs-errors-dialog",s='<div class="vjs-errors-content-container">\n      <h2 class="vjs-errors-headline">'+this.localize(i.headline)+"</h2>\n        <div><b>"+this.localize("Error Code")+"</b>: "+(i.type||i.code)+"</div>\n        "+r+"\n      </div>";if(d.closeable(!("dismiss"in i)||i.dismiss)){s+='<div class="vjs-errors-ok-button-container">\n          <button class="vjs-errors-ok-button">'+this.localize("OK")+"</button>\n        </div>",t.innerHTML=s,d.fillWith(t),d.contentEl().firstChild.appendChild(d.getChild("closeButton").el());var a=d.el().querySelector(".vjs-errors-ok-button");o.on(a,"click",function(){d.close()})}else t.innerHTML=s,d.fillWith(t);(o.currentWidth()<=600||o.currentHeight()<=250)&&d.addClass("vjs-xs"),d.one("modalclose",function(){return o.error(null)})}},y=function e(){u(),o.removeClass("vjs-errors"),o.off("play",h),o.off("play",v),o.off("dispose",e),o.off("error",E)},R=function(n){y(),r(o,e.mergeOptions(p,n))};R.extend=function(e){return d(e)},R.getAll=function(){return e.mergeOptions(n.errors)},R.disableProgress=function(e){n.progressDisabled=e,h()},o.on("play",h),o.on("play",v),o.on("dispose",y),o.on("error",E),o.ready(function(){o.addClass("vjs-errors")}),o.errors=R},v=function(r){h(this,e.mergeOptions(p,r))};return["extend","getAll","disableProgress"].forEach(function(r){v[r]=function(){e.log.warn("The errors."+r+"() method is not available until the plugin has been initialized!")}}),f("errors",v),v});